function H_opt = calculateHamiltonian(in1,in2,in3,in4)
%CALCULATEHAMILTONIAN
%    H_OPT = CALCULATEHAMILTONIAN(IN1,IN2,IN3,IN4)

%    This function was generated by the Symbolic Math Toolbox version 8.7.
%    02-Sep-2021 00:06:57

pu1 = in3(1,:);
pu2 = in3(2,:);
pu3 = in3(3,:);
pu4 = in3(4,:);
pw1 = in4(1,:);
pw2 = in4(2,:);
pw3 = in4(3,:);
pw4 = in4(4,:);
u1 = in1(1,:);
u2 = in1(2,:);
u3 = in1(3,:);
u4 = in1(4,:);
w1 = in2(1,:);
w2 = in2(2,:);
w3 = in2(3,:);
w4 = in2(4,:);
t2 = u1.^2;
t3 = u1.^3;
t4 = u2.^2;
t5 = u2.^3;
t6 = u3.^2;
t7 = u3.^3;
t8 = u4.^2;
t9 = u4.^3;
t10 = w1.^2;
t11 = w2.^2;
t12 = w3.^2;
t13 = w4.^2;
t22 = sqrt(2.0);
t71 = pw1.*u1.*w1.*w2.*4.0;
t72 = pw1.*u1.*w1.*w3.*4.0;
t73 = pw1.*u2.*w1.*w2.*4.0;
t74 = pw2.*u1.*w1.*w2.*4.0;
t75 = pw2.*u2.*w1.*w2.*4.0;
t76 = pw1.*u2.*w1.*w4.*4.0;
t77 = pw1.*u3.*w1.*w3.*4.0;
t78 = pw1.*u4.*w1.*w2.*4.0;
t79 = pw2.*u1.*w2.*w3.*4.0;
t80 = pw2.*u3.*w1.*w2.*4.0;
t81 = pw3.*u1.*w1.*w3.*4.0;
t82 = pw1.*u3.*w1.*w4.*4.0;
t83 = pw1.*u4.*w1.*w3.*4.0;
t84 = pw3.*u1.*w2.*w3.*4.0;
t85 = pw3.*u2.*w1.*w3.*4.0;
t86 = pw1.*u4.*w1.*w4.*4.0;
t87 = pw2.*u2.*w2.*w4.*4.0;
t88 = pw2.*u3.*w2.*w3.*4.0;
t89 = pw3.*u2.*w2.*w3.*4.0;
t90 = pw3.*u3.*w1.*w3.*4.0;
t91 = pw4.*u1.*w1.*w4.*4.0;
t92 = pw2.*u3.*w2.*w4.*4.0;
t93 = pw2.*u4.*w2.*w3.*4.0;
t94 = pw4.*u1.*w2.*w4.*4.0;
t95 = pw4.*u2.*w1.*w4.*4.0;
t96 = pw2.*u4.*w2.*w4.*4.0;
t97 = pw3.*u2.*w3.*w4.*4.0;
t98 = pw3.*u4.*w2.*w3.*4.0;
t99 = pw4.*u1.*w3.*w4.*4.0;
t100 = pw4.*u2.*w2.*w4.*4.0;
t101 = pw4.*u3.*w1.*w4.*4.0;
t102 = pw3.*u3.*w3.*w4.*4.0;
t103 = pw3.*u4.*w3.*w4.*4.0;
t104 = pw4.*u3.*w3.*w4.*4.0;
t105 = pw4.*u4.*w2.*w4.*4.0;
t106 = pw4.*u4.*w3.*w4.*4.0;
t14 = t10.*2.0;
t15 = t11.*2.0;
t16 = t10.*4.0;
t17 = t12.*2.0;
t18 = t11.*4.0;
t19 = t13.*2.0;
t20 = t12.*4.0;
t21 = t13.*4.0;
t23 = pw1.*t3;
t24 = pw1.*t5;
t25 = pw2.*t3;
t26 = pw1.*t7;
t27 = pw2.*t5;
t28 = pw3.*t3;
t29 = pw2.*t9;
t30 = pw3.*t7;
t31 = pw4.*t5;
t32 = pw3.*t9;
t33 = pw4.*t7;
t34 = pw4.*t9;
t35 = pw1.*t4.*u1;
t36 = pw1.*t2.*u2;
t37 = pw1.*t6.*u1;
t38 = pw1.*t2.*u3;
t39 = pw2.*t4.*u1;
t40 = pw2.*t2.*u2;
t41 = pw1.*t8.*u1;
t42 = pw1.*t6.*u2;
t43 = pw1.*t4.*u3;
t44 = pw2.*t6.*u1;
t45 = pw3.*t4.*u1;
t46 = pw1.*t8.*u2;
t47 = pw2.*t8.*u1;
t48 = pw2.*t6.*u2;
t49 = pw2.*t2.*u4;
t50 = pw3.*t6.*u1;
t51 = pw3.*t2.*u3;
t52 = pw4.*t2.*u2;
t53 = pw1.*t8.*u3;
t54 = pw2.*t8.*u2;
t55 = pw2.*t4.*u4;
t56 = pw3.*t8.*u1;
t57 = pw3.*t2.*u4;
t58 = pw3.*t4.*u3;
t59 = pw4.*t2.*u3;
t60 = pw2.*t6.*u4;
t61 = pw3.*t4.*u4;
t62 = pw4.*t6.*u2;
t63 = pw4.*t2.*u4;
t64 = pw4.*t4.*u3;
t65 = pw3.*t8.*u3;
t66 = pw3.*t6.*u4;
t67 = pw4.*t8.*u2;
t68 = pw4.*t4.*u4;
t69 = pw4.*t8.*u3;
t70 = pw4.*t6.*u4;
t119 = -t73;
t120 = -t77;
t121 = -t82;
t122 = -t83;
t123 = -t88;
t124 = -t89;
t125 = -t92;
t126 = -t93;
t127 = -t100;
t128 = -t102;
t129 = -t104;
t130 = -t106;
t131 = t2./2.0;
t132 = t4./2.0;
t133 = t2./4.0;
t134 = t6./2.0;
t135 = t4./4.0;
t136 = t8./2.0;
t137 = t6./4.0;
t138 = t8./4.0;
t155 = pw2.*t11.*u2.*-4.0;
t156 = pw3.*t12.*u3.*-4.0;
t157 = pw3.*t12.*u4.*-4.0;
t158 = pw4.*t13.*u3.*-4.0;
t159 = t2+t4+t6+t8;
t107 = pw1.*t16.*u1;
t108 = pw1.*t16.*u2;
t109 = pw1.*t16.*u3;
t110 = pw2.*t18.*u1;
t111 = pw2.*t18.*u2;
t112 = pw3.*t20.*u1;
t113 = pw2.*t18.*u4;
t114 = pw3.*t20.*u3;
t115 = pw3.*t20.*u4;
t116 = pw4.*t21.*u2;
t117 = pw4.*t21.*u3;
t118 = pw4.*t21.*u4;
t139 = -t27;
t140 = -t30;
t141 = -t32;
t142 = -t33;
t143 = -t40;
t144 = -t48;
t145 = -t51;
t146 = -t54;
t147 = -t57;
t148 = -t58;
t149 = -t59;
t150 = -t61;
t151 = -t64;
t152 = -t65;
t153 = -t66;
t154 = -t69;
t160 = 1.0./t159;
t162 = t16+t18+t20+t21+t159;
t165 = t10+t11+t12+t13+t133+t135+t137+t138;
t166 = t14+t15+t17+t19+t131+t132+t134+t136;
t161 = t160.^2;
t163 = 1.0./t162;
t167 = t26+t28+t29+t31+t38+t43+t45+t49+t50+t52+t53+t55+t56+t60+t62+t67+t72+t76+t78+t79+t80+t87+t90+t97+t98+t99+t101+t105+t109+t112+t113+t116;
t168 = t23+t34+t35+t37+t41+t63+t68+t70+t74+t81+t86+t91+t96+t103+t107+t118+t119+t120+t123+t124+t127+t129+t139+t140+t143+t144+t145+t146+t148+t152+t155+t156;
t169 = t24+t25+t36+t39+t42+t44+t46+t47+t71+t75+t84+t85+t94+t95+t108+t110+t121+t122+t125+t126+t128+t130+t141+t142+t147+t149+t150+t151+t153+t154+t157+t158;
t164 = sqrt(t163);
t170 = (t22.*t160.*t162.*t164.*t167.*u1)./4.0;
t171 = (t22.*t160.*t162.*t164.*t167.*u2)./4.0;
t172 = (t22.*t160.*t162.*t164.*t167.*u3)./4.0;
t173 = (t22.*t160.*t162.*t164.*t167.*u4)./4.0;
t175 = (t22.*t160.*t162.*t164.*t168.*u1)./4.0;
t176 = (t22.*t160.*t162.*t164.*t169.*u1)./4.0;
t177 = (t22.*t160.*t162.*t164.*t168.*u2)./4.0;
t178 = (t22.*t160.*t162.*t164.*t169.*u2)./4.0;
t179 = (t22.*t160.*t162.*t164.*t168.*u3)./4.0;
t180 = (t22.*t160.*t162.*t164.*t169.*u3)./4.0;
t181 = (t22.*t160.*t162.*t164.*t168.*u4)./4.0;
t182 = (t22.*t160.*t162.*t164.*t169.*u4)./4.0;
t174 = -t170;
t183 = -t177;
t184 = -t180;
t185 = t172+t175+t178;
t186 = t173+t176+t183;
t187 = t174+t179+t182;
t188 = t171+t181+t184;
t189 = t185.*w1.*2.0;
t190 = t186.*w2.*2.0;
t191 = t187.*w3.*2.0;
t192 = t188.*w4.*2.0;
t193 = -t191;
t194 = t189+t190+t192+t193;
H_opt = pu1.*w1+pu2.*w2+pu3.*w3+pu4.*w4+pw1.*(u1.*(-1.0./4.0)+t159.*t165.*t185+t166.*t194.*w1)+pw2.*(u2.*(-1.0./4.0)+t159.*t165.*t186+t166.*t194.*w2)-pw3.*(u3./4.0+t159.*t165.*t187-t166.*t194.*w3)+pw4.*(u4.*(-1.0./4.0)+t159.*t165.*t188+t166.*t194.*w4)-(t22.*t159.*((t161.*t162.*t167.^2)./8.0+(t161.*t162.*t168.^2)./8.0+(t161.*t162.*t169.^2)./8.0))./(t164.*4.0);
